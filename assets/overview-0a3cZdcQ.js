import{d as R,ad as M,i as D,g as m,r as u,e as I,w as N,p as z,l as K,o as L,c as $,t,C as r,z as p,s,q as i,v as o,K as U,L as W,M as q,N as w,ae as G,af as Y,ag as J,ah as Q,ai as X}from"./index-DOWG_QFa.js";import{E as tt}from"./el-checkbox-jiOyOAps.js";import{b as F,_ as k,a as v}from"./kx-tabs-tab.vue_vue_type_script_setup_true_lang-BYvJbcWX.js";import{_ as et}from"./overview-chart.vue_vue_type_script_setup_true_lang-jAkuD6xO.js";import{_ as st}from"./kx-coin-icon.vue_vue_type_script_setup_true_lang-Cpt7t1GN.js";import{i as C}from"./sort-icon-DGzml785.js";import{a as at}from"./portfolio-B26MEExJ.js";import{o as ot}from"./openDialog-CRc3YDG6.js";import{_ as lt}from"./exchange-dialog-pc.vue_vue_type_style_index_0_lang-3qX_W7b_.js";import"./ethereum-b50HvIEf.js";import"./el-overlay-yY4EJd2E.js";import"./index-DAunUY-_.js";import"./kx-tabs-panel.vue_vue_type_script_setup_true_lang-CBa6ghOK.js";import"./useExchangeDialog-D3zyibQV.js";const it={class:"half-1px-border p-6 rounded-3xl text-[var(--primary-white-color)] font-Pragmatica"},nt={class:"flex justify-between"},ct=q('<div class="flex gap-2 items-center text-[20px] font-medium"> Estimated Balance <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><g clip-path="url(#clip0_2600_54556)"><path d="M8.0013 3C4.66797 3 1.8213 5.07333 0.667969 8C1.8213 10.9267 4.66797 13 8.0013 13C11.3346 13 14.1813 10.9267 15.3346 8C14.1813 5.07333 11.3346 3 8.0013 3ZM8.0013 11.3333C6.1613 11.3333 4.66797 9.84 4.66797 8C4.66797 6.16 6.1613 4.66667 8.0013 4.66667C9.8413 4.66667 11.3346 6.16 11.3346 8C11.3346 9.84 9.8413 11.3333 8.0013 11.3333ZM8.0013 6C6.89464 6 6.0013 6.89333 6.0013 8C6.0013 9.10667 6.89464 10 8.0013 10C9.10797 10 10.0013 9.10667 10.0013 8C10.0013 6.89333 9.10797 6 8.0013 6Z" fill="#F6F6F4"></path></g><defs><clipPath id="clip0_2600_54556"><rect width="16" height="16" fill="white"></rect></clipPath></defs></svg></div>',1),rt={class:"flex gap-4 text-sm leading-base font-medium font-Pragmatica"},dt={class:"mt-6 flex gap-4 text-[32px] leading-base font-medium"},ut={class:"flex text-sm items-end text-[var(--primary-white-color)]"},pt=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},[t("g",{"clip-path":"url(#clip0_2600_54572)"},[t("path",{d:"M4.66797 6.66675L8.0013 10.0001L11.3346 6.66675H4.66797Z",fill:"#F6F6F4"})]),t("defs",null,[t("clipPath",{id:"clip0_2600_54572"},[t("rect",{width:"16",height:"16",fill:"white"})])])],-1),_t=t("div",{class:"mt-4 text-sm"}," = $8.82 ",-1),ft={class:"mt-4 flex justify-between text-sm font-medium"},ht=t("div",{class:"flex gap-4"},[t("span",null,"Today's PnL"),t("span",{class:"text-[var(--primary-green-color)]"}," + $0.00(0.10%) ")],-1),mt={class:"mt-6 h-[130px] flex"},vt={class:"half-1px-border mt-6 mb-6 p-6 rounded-3xl text-[var(--primary-white-color)] font-Pragmatica"},gt=t("div",{class:"text-2xl leading-base"}," My Assets",-1),xt={class:"flex gap-4 items-center"},wt=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"17",viewBox:"0 0 16 17",fill:"none"},[t("g",{"clip-path":"url(#clip0_2600_54606)"},[t("path",{d:"M10.3333 9.35238H9.80667L9.62 9.17238C10.2733 8.41238 10.6667 7.42571 10.6667 6.35238C10.6667 3.95904 8.72667 2.01904 6.33333 2.01904C3.94 2.01904 2 3.95904 2 6.35238C2 8.74571 3.94 10.6857 6.33333 10.6857C7.40667 10.6857 8.39333 10.2924 9.15333 9.63904L9.33333 9.82571V10.3524L12.6667 13.679L13.66 12.6857L10.3333 9.35238ZM6.33333 9.35238C4.67333 9.35238 3.33333 8.01238 3.33333 6.35238C3.33333 4.69238 4.67333 3.35238 6.33333 3.35238C7.99333 3.35238 9.33333 4.69238 9.33333 6.35238C9.33333 8.01238 7.99333 9.35238 6.33333 9.35238Z",fill:"#F6F6F4"})]),t("defs",null,[t("clipPath",{id:"clip0_2600_54606"},[t("rect",{width:"16",height:"16",fill:"white",transform:"translate(0 0.019043)"})])])],-1),Ct={class:"mt-6"},yt={class:"flex justify-between text-xs text-[#B9BDC3]"},bt={class:"flex-1"},Dt={class:"inline-flex gap-1 cursor-pointer items-center"},Lt=["src"],$t={class:"w-[18%] text-right"},Pt={class:"inline-flex gap-1 cursor-pointer items-center"},Bt=["src"],Tt={class:"w-[18%] text-right"},Et={class:"inline-flex gap-1 cursor-pointer items-center justify-end"},Mt=["src"],Nt={class:"w-[18%] text-right"},zt={class:"inline-flex gap-1 cursor-pointer items-center justify-end"},Ft=["src"],kt={class:"mt-6 space-y-4"},Vt={class:"flex-1"},At={class:"h-full inline-grid grid-rows-[repeat(2,auto)] grid-cols-[35px,auto] gap-x-4 gap--1 items-center leading-base cursor-pointer"},Zt={class:"text-sm leading-base"},jt={class:"w-[18%] text-right"},St={class:"h-full flex flex-col justify-between"},Ht={class:"font-medium"},Ot={class:"text-sm leading-base"},Rt={class:"w-[18%] text-right"},It={class:"w-[18%] text-right"},ie=R({__name:"overview",setup(Kt){const{cwdAddress:P,erc20s:V}=M(D()),{pageLoading:y}=M(m()),g=n=>{if(console.log("tokenis",n),n!=="btc"){const e=V.value[n];let c;w[n]?c=w[n].mainToken:c=J.mainToken,console.log(c);const d=D().zrc20s[w[n].mainToken.toLowerCase()];return console.log(d,e),G(e+(d||0),6)}else return 0};u([]);const B=u("spot"),f=u(1),A=u(["10.1","10.2","10.3","10.4","10.5","10.6","10.7","10.8","10.9","10.10"]),Z=u([.1,.13,.15,.23,.21,.18,.25,.23,.27,.2]),T=u([]),j=()=>{S()},S=()=>{console.log("钱包已连接，获取图表数据中..."),at().then(n=>{const e=n.data;console.log(e);const c=[],d=[];e.forEach((a,h)=>{f.value==1?h>=e.length-7&&(c.push(a.culDate=a.culDate.slice(0,10)),d.push(a.profitAndLoss)):f.value==2&&e.length>30?h>=e.length-30&&(c.push(a.culDate=a.culDate.slice(0,10)),d.push(a.profitAndLoss)):f.value===3&&e.length>90?h>=e.length-90&&(c.push(a.culDate=a.culDate.slice(0,10)),d.push(a.profitAndLoss)):f.value===4&&e.length>365?h>=e.length-365&&(c.push(a.culDate=a.culDate.slice(0,10)),d.push(a.profitAndLoss)):(c.push(a.culDate=a.culDate.slice(0,10)),d.push(a.profitAndLoss))})})},b=n=>{ot(lt)({fundingOrSettlement:n})},_=u("5"),H=n=>{_.value=n},x=u("0");I(async()=>{await E()}),N(P,async()=>{await E()}),N(_,()=>{_.value!=="btc"?x.value=g(_.value):x.value="0"});const E=async()=>{y.value=!0,m().startLoading(),P.value?await O():z("请先登录"),y.value=!1,y.value||m().stopLoading()},O=async()=>{if(await m().refreshErc20s(),D().cwdChainId!=7001){K("切换到Zeta链以查询zrc20");try{await m().refreshZrc20s(!0)}catch{z("未查询zrc20数据")}}else await m().refreshZrc20s();T.value=[{coinCode:"eth",coinName:"GoerliEth",amount:g("5"),amount2:"$8.46",coinPrice:"$1,801.6",todayPnL:"+ $0.01"},{coinCode:"matic",coinName:"Matic",amount:g("80001"),amount2:"$8.46",coinPrice:"$1,801.6",todayPnL:"+ $0.01"},{coinCode:"bnb",coinName:"tBNB",amount:g("97"),amount2:"$8.46",coinPrice:"$1,801.6",todayPnL:"+ $0.01"}],x.value=g(_.value)};return(n,e)=>{const c=Q,d=X,a=Y,h=tt;return L(),$("div",null,[t("div",it,[t("div",nt,[ct,t("div",rt,[t("button",{onClick:e[0]||(e[0]=l=>b("funding")),class:"px-2 py-1 text-[var(--primary-white-color)] bg-[#505968] rounded-[4px]"},"Fund "),t("button",{onClick:e[1]||(e[1]=l=>b("settlement")),class:"px-2 py-1 text-[var(--primary-white-color)] bg-[#505968] rounded-[4px]"},"Settle "),t("button",{onClick:e[2]||(e[2]=l=>b("funding")),class:"px-2 py-1 text-[var(--primary-white-color)] bg-[#505968] rounded-[4px]"},"Transfer ")])]),t("div",dt,[r(p(x.value)+" ",1),s(a,{onCommand:H,"popper-class":"kx-pc-overview-spot"},{dropdown:i(()=>[s(d,{class:"text-white"},{default:i(()=>[s(c,{command:"5"},{default:i(()=>[r(" gEth")]),_:1}),s(c,{command:"97"},{default:i(()=>[r(" tBnb")]),_:1}),s(c,{command:"80001"},{default:i(()=>[r(" Matic")]),_:1}),s(c,{command:"tBTC"},{default:i(()=>[r(" tBtc")]),_:1})]),_:1})]),default:i(()=>[t("div",ut,[r(p(_.value!=="tBTC"?o(w)[_.value].mainToken:"tBtc")+" ",1),pt])]),_:1})]),_t,t("div",ft,[ht,s(o(F),{onChange:j,modelValue:f.value,"onUpdate:modelValue":e[3]||(e[3]=l=>f.value=l),"active-color":"var(--primary-color)","in-active-color":"var(--primary-white-color)"},{default:i(()=>[s(o(k),{class:"text-xs leading-base"},{default:i(()=>[s(o(v),{value:1},{default:i(()=>[r("1W")]),_:1}),s(o(v),{value:2},{default:i(()=>[r("1M")]),_:1}),s(o(v),{value:3},{default:i(()=>[r("3M")]),_:1}),s(o(v),{value:4},{default:i(()=>[r("1Y")]),_:1})]),_:1})]),_:1},8,["modelValue"])]),t("div",mt,[s(et,{"x-data":A.value,"y-data":Z.value,class:"flex-1"},null,8,["x-data","y-data"])])]),t("div",vt,[gt,s(o(F),{modelValue:B.value,"onUpdate:modelValue":e[4]||(e[4]=l=>B.value=l),"active-color":"var(--primary-color)",class:"mt-6 flex justify-between"},{default:i(()=>[s(o(k),null,{default:i(()=>[s(o(v),{value:"spot",class:"capitalize"}),s(o(v),{value:"futures",class:"capitalize"})]),_:1}),t("div",xt,[wt,s(h,{class:"kx-p-portfolio-portfolio",label:"Hide assets",size:"small"})])]),_:1},8,["modelValue"]),t("div",Ct,[t("div",null,[t("ul",yt,[t("li",bt,[t("div",Dt,[r(" Coin "),t("img",{class:"size-3",src:o(C),alt:"sort"},null,8,Lt)])]),t("li",$t,[t("div",Pt,[r(" Amount "),t("img",{class:"size-3",src:o(C),alt:"sort"},null,8,Bt)])]),t("li",Tt,[t("div",Et,[r(" Coin Price "),t("img",{class:"size-3",src:o(C),alt:"sort"},null,8,Mt)])]),t("li",Nt,[t("div",zt,[r(" Today's PnL "),t("img",{class:"size-3",src:o(C),alt:"sort"},null,8,Ft)])])]),t("div",null,[t("ul",kt,[(L(!0),$(U,null,W(T.value,l=>(L(),$("li",{key:l.coinCode,class:"flex justify-between text-base leading-base cursor-pointer"},[t("div",Vt,[t("div",At,[s(o(st),{coin:l.coinCode,class:"inline-flex row-span-2 size-[35px]"},null,8,["coin"]),t("span",null,p(l.coinCode),1),t("span",Zt,p(l.coinName),1)])]),t("div",jt,[t("div",St,[t("div",Ht,p(l.amount),1),t("div",Ot,p(l.amount2),1)])]),t("div",Rt,[t("div",null,p(l.coinPrice),1)]),t("div",It,[t("div",null,p(l.todayPnL),1)])]))),128))])])])])])])}}});export{ie as default};
