import{aX as F,e as ne,ak as fe,aY as ve,aZ as q,y as me,a_ as ye,a$ as Z,b0 as pe,b1 as Q,w as x,b2 as be,b3 as Ce,V as Ee,b4 as ge,b5 as K,b6 as J,b7 as X,d as H,s as z,P as S,b8 as Te,b9 as Se,ba as he,T as ee,bb as we,aa as B,o as $,c as G,t as V,O as h,v as o,z as Ae,q as k,n as P,u as Le,bc as Me,ac as j,x as se,bd as le,be as ke,bf as De,bg as ae,bh as Be,bi as Ie,bj as Ne,bk as oe,r as D,bl as Oe,bm as $e,bn as Re,bo as Ye,bp as te,S as _e,bq as ze,ax as He,A as Ue,br as Ve,bs as We,bt as Xe,R as Ke,aB as Ge,bu as qe,bv as xe}from"./index-DOWG_QFa.js";let U;const Pe=e=>{var t;if(!F)return 0;if(U!==void 0)return U;const n=document.createElement("div");n.className=`${e}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const u=n.offsetWidth;n.style.overflow="scroll";const l=document.createElement("div");l.style.width="100%",n.appendChild(l);const i=l.offsetWidth;return(t=n.parentNode)==null||t.removeChild(n),U=u-i,U};var W=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(W||{});const je=(e,t,n,u)=>{let l={offsetX:0,offsetY:0};const i=v=>{const c=v.clientX,y=v.clientY,{offsetX:p,offsetY:E}=l,f=e.value.getBoundingClientRect(),d=f.left,T=f.top,I=f.width,R=f.height,N=document.documentElement.clientWidth,Y=document.documentElement.clientHeight,_=-d+p,O=-T+E,w=N-d-I+p,A=Y-T-R+E,g=s=>{let m=p+s.clientX-c,b=E+s.clientY-y;u!=null&&u.value||(m=Math.min(Math.max(m,_),w),b=Math.min(Math.max(b,O),A)),l={offsetX:m,offsetY:b},e.value&&(e.value.style.transform=`translate(${q(m)}, ${q(b)})`)},L=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",L)};document.addEventListener("mousemove",g),document.addEventListener("mouseup",L)},r=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",i)},a=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",i)};ne(()=>{fe(()=>{n.value?r():a()})}),ve(()=>{a()})},Fe=(e,t={})=>{me(e)||ye("[useLockscreen]","You need to pass a ref param to this function");const n=t.ns||Z("popup"),u=pe(()=>n.bm("parent","hidden"));if(!F||Q(document.body,u.value))return;let l=0,i=!1,r="0";const a=()=>{setTimeout(()=>{ge(document==null?void 0:document.body,u.value),i&&document&&(document.body.style.width=r)},200)};x(e,v=>{if(!v){a();return}i=!Q(document.body,u.value),i&&(r=document.body.style.width),l=Pe(n.namespace.value);const c=document.documentElement.clientHeight<document.body.scrollHeight,y=be(document.body,"overflowY");l>0&&(c||y==="scroll")&&i&&(document.body.style.width=`calc(100% - ${l}px)`),Ce(document.body,u.value)}),Ee(()=>a())},ie=e=>{if(!e)return{onClick:K,onMousedown:K,onMouseup:K};let t=!1,n=!1;return{onClick:r=>{t&&n&&e(r),t=n=!1},onMousedown:r=>{t=r.target===r.currentTarget},onMouseup:r=>{n=r.target===r.currentTarget}}},Ze=J({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:X([String,Array,Object])},zIndex:{type:X([String,Number])}}),Je={click:e=>e instanceof MouseEvent},Qe="overlay";var eo=H({name:"ElOverlay",props:Ze,emits:Je,setup(e,{slots:t,emit:n}){const u=Z(Qe),l=v=>{n("click",v)},{onClick:i,onMousedown:r,onMouseup:a}=ie(e.customMaskEvent?void 0:l);return()=>e.mask?z("div",{class:[u.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:i,onMousedown:r,onMouseup:a},[S(t,"default")],W.STYLE|W.CLASS|W.PROPS,["onClick","onMouseup","onMousedown"]):Te("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[S(t,"default")])}});const oo=eo,re=Symbol("dialogInjectionKey"),de=J({center:Boolean,alignCenter:Boolean,closeIcon:{type:Se},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),to={close:()=>!0},no=["aria-level"],so=["aria-label"],lo=["id"],ao=H({name:"ElDialogContent"}),io=H({...ao,props:de,emits:to,setup(e){const t=e,{t:n}=he(),{Close:u}=ke,{dialogRef:l,headerRef:i,bodyId:r,ns:a,style:v}=ee(re),{focusTrapRef:c}=ee(we),y=B(()=>[a.b(),a.is("fullscreen",t.fullscreen),a.is("draggable",t.draggable),a.is("align-center",t.alignCenter),{[a.m("center")]:t.center}]),p=De(c,l),E=B(()=>t.draggable),f=B(()=>t.overflow);return je(l,i,E,f),(d,T)=>($(),G("div",{ref:o(p),class:h(o(y)),style:se(o(v)),tabindex:"-1"},[V("header",{ref_key:"headerRef",ref:i,class:h([o(a).e("header"),{"show-close":d.showClose}])},[S(d.$slots,"header",{},()=>[V("span",{role:"heading","aria-level":d.ariaLevel,class:h(o(a).e("title"))},Ae(d.title),11,no)]),d.showClose?($(),G("button",{key:0,"aria-label":o(n)("el.dialog.close"),class:h(o(a).e("headerbtn")),type:"button",onClick:T[0]||(T[0]=I=>d.$emit("close"))},[z(o(Me),{class:h(o(a).e("close"))},{default:k(()=>[($(),P(Le(d.closeIcon||o(u))))]),_:1},8,["class"])],10,so)):j("v-if",!0)],2),V("div",{id:o(r),class:h(o(a).e("body"))},[S(d.$slots,"default")],10,lo),d.$slots.footer?($(),G("footer",{key:0,class:h(o(a).e("footer"))},[S(d.$slots,"footer")],2)):j("v-if",!0)],6))}});var ro=le(io,[["__file","dialog-content.vue"]]);const uo=J({...de,appendToBody:Boolean,appendTo:{type:X(String),default:"body"},beforeClose:{type:X(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),co={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ae]:e=>Be(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},fo=(e,t)=>{var n;const l=Ie().emit,{nextZIndex:i}=Ne();let r="";const a=oe(),v=oe(),c=D(!1),y=D(!1),p=D(!1),E=D((n=e.zIndex)!=null?n:i());let f,d;const T=Oe("namespace",$e),I=B(()=>{const C={},M=`--${T.value}-dialog`;return e.fullscreen||(e.top&&(C[`${M}-margin-top`]=e.top),e.width&&(C[`${M}-width`]=q(e.width))),C}),R=B(()=>e.alignCenter?{display:"flex"}:{});function N(){l("opened")}function Y(){l("closed"),l(ae,!1),e.destroyOnClose&&(p.value=!1)}function _(){l("close")}function O(){d==null||d(),f==null||f(),e.openDelay&&e.openDelay>0?{stop:f}=te(()=>L(),e.openDelay):L()}function w(){f==null||f(),d==null||d(),e.closeDelay&&e.closeDelay>0?{stop:d}=te(()=>s(),e.closeDelay):s()}function A(){function C(M){M||(y.value=!0,c.value=!1)}e.beforeClose?e.beforeClose(C):w()}function g(){e.closeOnClickModal&&A()}function L(){F&&(c.value=!0)}function s(){c.value=!1}function m(){l("openAutoFocus")}function b(){l("closeAutoFocus")}function ue(C){var M;((M=C.detail)==null?void 0:M.focusReason)==="pointer"&&C.preventDefault()}e.lockScroll&&Fe(c);function ce(){e.closeOnPressEscape&&A()}return x(()=>e.modelValue,C=>{C?(y.value=!1,O(),p.value=!0,E.value=Re(e.zIndex)?i():E.value++,Ye(()=>{l("open"),t.value&&(t.value.scrollTop=0)})):c.value&&w()}),x(()=>e.fullscreen,C=>{t.value&&(C?(r=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=r)}),ne(()=>{e.modelValue&&(c.value=!0,p.value=!0,O())}),{afterEnter:N,afterLeave:Y,beforeLeave:_,handleClose:A,onModalClick:g,close:w,doClose:s,onOpenAutoFocus:m,onCloseAutoFocus:b,onCloseRequested:ce,onFocusoutPrevented:ue,titleId:a,bodyId:v,closed:y,style:I,overlayDialogStyle:R,rendered:p,visible:c,zIndex:E}},vo=["aria-label","aria-labelledby","aria-describedby"],mo=H({name:"ElDialog",inheritAttrs:!1}),yo=H({...mo,props:uo,emits:co,setup(e,{expose:t}){const n=e,u=_e();ze({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},B(()=>!!u.title));const l=Z("dialog"),i=D(),r=D(),a=D(),{visible:v,titleId:c,bodyId:y,style:p,overlayDialogStyle:E,rendered:f,zIndex:d,afterEnter:T,afterLeave:I,beforeLeave:R,handleClose:N,onModalClick:Y,onOpenAutoFocus:_,onCloseAutoFocus:O,onCloseRequested:w,onFocusoutPrevented:A}=fo(n,i);He(re,{dialogRef:i,headerRef:r,bodyId:y,ns:l,rendered:f,style:p});const g=ie(Y),L=B(()=>n.draggable&&!n.fullscreen);return t({visible:v,dialogContentRef:a}),(s,m)=>($(),P(qe,{to:s.appendTo,disabled:s.appendTo!=="body"?!1:!s.appendToBody},[z(Ge,{name:"dialog-fade",onAfterEnter:o(T),onAfterLeave:o(I),onBeforeLeave:o(R),persisted:""},{default:k(()=>[Ue(z(o(oo),{"custom-mask-event":"",mask:s.modal,"overlay-class":s.modalClass,"z-index":o(d)},{default:k(()=>[V("div",{role:"dialog","aria-modal":"true","aria-label":s.title||void 0,"aria-labelledby":s.title?void 0:o(c),"aria-describedby":o(y),class:h(`${o(l).namespace.value}-overlay-dialog`),style:se(o(E)),onClick:m[0]||(m[0]=(...b)=>o(g).onClick&&o(g).onClick(...b)),onMousedown:m[1]||(m[1]=(...b)=>o(g).onMousedown&&o(g).onMousedown(...b)),onMouseup:m[2]||(m[2]=(...b)=>o(g).onMouseup&&o(g).onMouseup(...b))},[z(o(Ve),{loop:"",trapped:o(v),"focus-start-el":"container",onFocusAfterTrapped:o(_),onFocusAfterReleased:o(O),onFocusoutPrevented:o(A),onReleaseRequested:o(w)},{default:k(()=>[o(f)?($(),P(ro,We({key:0,ref_key:"dialogContentRef",ref:a},s.$attrs,{center:s.center,"align-center":s.alignCenter,"close-icon":s.closeIcon,draggable:o(L),overflow:s.overflow,fullscreen:s.fullscreen,"show-close":s.showClose,title:s.title,"aria-level":s.headerAriaLevel,onClose:o(N)}),Xe({header:k(()=>[s.$slots.title?S(s.$slots,"title",{key:1}):S(s.$slots,"header",{key:0,close:o(N),titleId:o(c),titleClass:o(l).e("title")})]),default:k(()=>[S(s.$slots,"default")]),_:2},[s.$slots.footer?{name:"footer",fn:k(()=>[S(s.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):j("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,vo)]),_:3},8,["mask","overlay-class","z-index"]),[[Ke,o(v)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var po=le(yo,[["__file","dialog.vue"]]);const Co=xe(po);export{Co as E};
